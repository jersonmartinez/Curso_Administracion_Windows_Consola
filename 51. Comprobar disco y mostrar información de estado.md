# 51. Comprobar disco y mostrar informaci√≥n de estado

## üîç ¬øAlguna vez te has preguntado qu√© tan saludable est√° tu disco duro?

> *"Un disco duro es como el coraz√≥n de tu computadora: si no lo cuidas, todo el sistema sufre"* - An√≥nimo

En el mundo de la administraci√≥n de sistemas, la capacidad de diagnosticar y monitorear la salud de los discos duros es una habilidad cr√≠tica que puede prevenir p√©rdidas catastr√≥ficas de datos. ¬øSab√≠as que el 60% de las fallas de disco duro pueden ser predichas con herramientas de diagn√≥stico avanzadas?

En este cap√≠tulo, aprender√°s t√©cnicas expertas para verificar la integridad de los discos, detectar problemas antes de que se conviertan en fallos cr√≠ticos y mantener un sistema de monitoreo proactivo que te convertir√° en un verdadero experto en diagn√≥stico de almacenamiento.

---

## üìö Conceptos Fundamentales

### **Integridad del Disco**
Estado de salud f√≠sica y l√≥gica de una unidad de almacenamiento, incluyendo sectores, sistema de archivos y estructura de datos.

### **Sectores Defectuosos**
√Åreas del disco que han perdido su capacidad de almacenar datos de manera confiable, causando errores de lectura/escritura.

### **Sistema de Archivos**
Estructura l√≥gica que organiza y gestiona los datos almacenados en el disco, como NTFS, FAT32 o exFAT.

### **SMART (Self-Monitoring, Analysis and Reporting Technology)**
Sistema de monitoreo integrado en los discos duros que detecta y reporta problemas de salud.

---

## üõ†Ô∏è Comandos Principales

### **CHKDSK**
Comando nativo de Windows para verificar y reparar errores en el sistema de archivos y sectores defectuosos.

### **WMIC**
Comando para acceder a informaci√≥n detallada del hardware, incluyendo datos SMART de los discos.

### **POWERSHELL**
Scripts avanzados para an√°lisis detallado y monitoreo continuo de la salud de los discos.

### **FSUTIL**
Herramienta avanzada para gesti√≥n y diagn√≥stico del sistema de archivos.

---

## üí° Ejemplos Pr√°cticos

### **Ejemplo 1: Verificaci√≥n B√°sica de Disco**
**Prop√≥sito**: Realizar una verificaci√≥n b√°sica de la integridad del sistema de archivos sin reparaciones autom√°ticas.

```batch
@echo off
echo üîç VERIFICACI√ìN B√ÅSICA DE DISCO
echo ================================

echo.
echo üìÅ Verificando integridad de la unidad C:...
chkdsk C: /F

echo.
echo üìä Informaci√≥n de estado del disco:
wmic logicaldisk where "DeviceID='C:'" get size,freespace,status

echo ‚úÖ Verificaci√≥n completada
echo.
pause
```

### **Ejemplo 2: Verificaci√≥n Completa con Reparaci√≥n**
**Prop√≥sito**: Realizar una verificaci√≥n completa del disco incluyendo reparaci√≥n autom√°tica de errores encontrados.

```batch
@echo off
echo üîß VERIFICACI√ìN COMPLETA CON REPARACI√ìN
echo ========================================

echo.
echo ‚ö†Ô∏è  Iniciando verificaci√≥n completa de la unidad C:...
echo üîß Reparando errores autom√°ticamente...
echo ‚è∞ Este proceso puede tomar varios minutos...

chkdsk C: /F /R /X

echo.
echo ‚úÖ Verificaci√≥n y reparaci√≥n completadas
echo.
pause
```

### **Ejemplo 3: An√°lisis SMART del Disco**
**Prop√≥sito**: Obtener informaci√≥n detallada sobre la salud del disco usando datos SMART integrados.

```batch
@echo off
echo üìä AN√ÅLISIS SMART DEL DISCO
echo ============================

echo.
echo üîç Obteniendo informaci√≥n SMART del disco...
wmic diskdrive get model,size,status,mediatype

echo.
echo üìà Informaci√≥n detallada de salud:
wmic diskdrive get model,status,mediatype,partitions,size,freespace

echo.
echo ‚ö†Ô∏è  Verificando sectores defectuosos:
wmic diskdrive get model,status,mediatype,partitions,size,freespace /format:list

echo ‚úÖ An√°lisis SMART completado
echo.
pause
```

### **Ejemplo 4: Verificaci√≥n de M√∫ltiples Unidades**
**Prop√≥sito**: Verificar la integridad de todas las unidades del sistema de manera sistem√°tica.

```batch
@echo off
echo üîç VERIFICACI√ìN DE M√öLTIPLES UNIDADES
echo ======================================

echo.
echo üîç Detectando y verificando todas las unidades...
for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        echo üìÅ Verificando unidad %%d:...
        chkdsk %%d: /F
        echo.
    )
)

echo ‚úÖ Verificaci√≥n de todas las unidades completada
echo.
pause
```

### **Ejemplo 5: An√°lisis Detallado del Sistema de Archivos**
**Prop√≥sito**: Obtener informaci√≥n detallada sobre el sistema de archivos y su estado actual.

```batch
@echo off
echo üìã AN√ÅLISIS DETALLADO DEL SISTEMA DE ARCHIVOS
echo ==============================================

echo.
echo üìä Informaci√≥n del sistema de archivos:
fsutil fsinfo ntfsinfo C:

echo.
echo üìà Estad√≠sticas de uso:
fsutil volume diskfree C:

echo.
echo üîç Verificando integridad del sistema de archivos:
fsutil dirty query C:

echo ‚úÖ An√°lisis completado
echo.
pause
```

### **Ejemplo 6: Monitoreo de Sectores Defectuosos**
**Prop√≥sito**: Detectar y reportar sectores defectuosos en el disco para prevenir p√©rdida de datos.

```batch
@echo off
echo ‚ö†Ô∏è MONITOREO DE SECTORES DEFECTUOSOS
echo ====================================

echo.
echo üîç Verificando sectores defectuosos en la unidad C:...
chkdsk C: /R /F

echo.
echo üìä Informaci√≥n de sectores:
wmic diskdrive get model,status,mediatype,partitions,size,freespace /format:list | findstr "Status"

echo.
echo ‚ö†Ô∏è  Si se encontraron sectores defectuosos, considera hacer respaldo de datos importantes
echo ‚úÖ Verificaci√≥n completada
echo.
pause
```

### **Ejemplo 7: Verificaci√≥n Programada**
**Prop√≥sito**: Configurar verificaciones autom√°ticas del disco en horarios espec√≠ficos para mantenimiento preventivo.

```batch
@echo off
echo üìÖ VERIFICACI√ìN PROGRAMADA
echo ===========================

echo.
echo ‚è∞ Configurando verificaci√≥n semanal autom√°tica...
schtasks /create /tn "Verificacion_Disco_Semanal" /tr "chkdsk C: /F /R" /sc weekly /d SUN /st 03:00 /ru SYSTEM

echo.
echo üìã Verificando tarea creada...
schtasks /query /tn "Verificacion_Disco_Semanal"

echo ‚úÖ Verificaci√≥n programada configurada
echo.
pause
```

### **Ejemplo 8: An√°lisis de Rendimiento del Disco**
**Prop√≥sito**: Evaluar el rendimiento del disco y detectar posibles cuellos de botella.

```batch
@echo off
echo üìà AN√ÅLISIS DE RENDIMIENTO DEL DISCO
echo =====================================

echo.
echo üìä Informaci√≥n de rendimiento:
wmic logicaldisk get size,freespace,caption,mediatype,status

echo.
echo üîç Verificando fragmentaci√≥n:
defrag C: /A /V

echo.
echo üìà Estad√≠sticas de uso del disco:
fsutil volume diskfree C:

echo ‚úÖ An√°lisis de rendimiento completado
echo.
pause
```

### **Ejemplo 9: Verificaci√≥n de Integridad Avanzada**
**Prop√≥sito**: Realizar una verificaci√≥n profunda del disco incluyendo an√°lisis de metadatos y estructura.

```batch
@echo off
echo üî¨ VERIFICACI√ìN DE INTEGRIDAD AVANZADA
echo ======================================

echo.
echo üîç Fase 1: Verificaci√≥n b√°sica del sistema de archivos...
chkdsk C: /F

echo.
echo üî¨ Fase 2: Verificaci√≥n de sectores f√≠sicos...
chkdsk C: /R

echo.
echo üìä Fase 3: An√°lisis de metadatos...
fsutil fsinfo ntfsinfo C:

echo.
echo üîç Fase 4: Verificaci√≥n de integridad de estructura...
fsutil dirty query C:

echo ‚úÖ Verificaci√≥n avanzada completada
echo.
pause
```

### **Ejemplo 10: Reporte Completo de Salud del Disco**
**Prop√≥sito**: Generar un reporte completo y detallado sobre la salud de todos los discos del sistema.

```batch
@echo off
echo üìã REPORTE COMPLETO DE SALUD DEL DISCO
echo ======================================

echo.
echo üìù Generando reporte completo...
echo Fecha: %date% %time% > "reporte_salud_disco.txt"
echo ================================ >> "reporte_salud_disco.txt"
echo REPORTE DE SALUD DE DISCOS >> "reporte_salud_disco.txt"
echo ================================ >> "reporte_salud_disco.txt"
echo. >> "reporte_salud_disco.txt"

echo üìä INFORMACI√ìN GENERAL DE DISCOS: >> "reporte_salud_disco.txt"
wmic logicaldisk get size,freespace,caption,mediatype,status >> "reporte_salud_disco.txt"
echo. >> "reporte_salud_disco.txt"

echo üîç INFORMACI√ìN SMART: >> "reporte_salud_disco.txt"
wmic diskdrive get model,status,mediatype,partitions,size,freespace >> "reporte_salud_disco.txt"
echo. >> "reporte_salud_disco.txt"

echo üìà AN√ÅLISIS DE FRAGMENTACI√ìN: >> "reporte_salud_disco.txt"
defrag C: /A /V >> "reporte_salud_disco.txt"
echo. >> "reporte_salud_disco.txt"

echo üîß ESTADO DEL SISTEMA DE ARCHIVOS: >> "reporte_salud_disco.txt"
fsutil fsinfo ntfsinfo C: >> "reporte_salud_disco.txt"
echo. >> "reporte_salud_disco.txt"

echo ‚úÖ Reporte guardado en: reporte_salud_disco.txt
echo.
pause
```

---

## üöÄ Scripts Avanzados

### **Script para Gesti√≥n Completa de Diagn√≥stico de Discos**

```batch
@echo off
setlocal enabledelayedexpansion
title üîç GESTOR COMPLETO DE DIAGN√ìSTICO DE DISCOS

:menu_principal
cls
echo.
echo ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
echo ‚ïë            üîç GESTOR DE DIAGN√ìSTICO DE DISCOS üîç             ‚ïë
echo ‚ïë                    Sistema de Monitoreo Avanzado             ‚ïë
echo ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
echo.
echo [1] üîç Verificaci√≥n b√°sica de discos
echo [2] üîß Verificaci√≥n completa con reparaci√≥n
echo [3] üìä An√°lisis SMART detallado
echo [4] üìÖ Configurar verificaciones programadas
echo [5] üìà An√°lisis de rendimiento
echo [6] üî¨ Verificaci√≥n de integridad avanzada
echo [7] üìä Monitoreo continuo de salud
echo [8] üìã Generar reporte completo
echo [9] ‚öôÔ∏è Configuraci√≥n personalizada
echo [0] ‚ùå Salir
echo.
set /p opcion="Selecciona una opci√≥n: "

if "%opcion%"=="1" goto verificacion_basica
if "%opcion%"=="2" goto verificacion_completa
if "%opcion%"=="3" goto analisis_smart
if "%opcion%"=="4" goto verificacion_programada
if "%opcion%"=="5" goto analisis_rendimiento
if "%opcion%"=="6" goto verificacion_avanzada
if "%opcion%"=="7" goto monitoreo_continuo
if "%opcion%"=="8" goto generar_reporte
if "%opcion%"=="9" goto configuracion
if "%opcion%"=="0" goto salir
goto menu_principal

:verificacion_basica
cls
echo.
echo üîç VERIFICACI√ìN B√ÅSICA DE DISCOS
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo üîç Verificando todas las unidades disponibles...
echo.

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        echo üìÅ Unidad %%d::
        echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        chkdsk %%d: /F
        echo.
    )
)

echo ‚úÖ Verificaci√≥n b√°sica completada
pause
goto menu_principal

:verificacion_completa
cls
echo.
echo üîß VERIFICACI√ìN COMPLETA CON REPARACI√ìN
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo ‚ö†Ô∏è  Esta operaci√≥n realizar√° verificaciones profundas y reparaciones
echo.
set /p confirmar="¬øContinuar? (S/N): "
if /i not "%confirmar%"=="S" goto menu_principal

echo.
echo üîß Iniciando verificaci√≥n completa...

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        echo üìÅ Verificando unidad %%d: con reparaci√≥n...
        chkdsk %%d: /F /R /X
        echo.
    )
)

echo ‚úÖ Verificaci√≥n completa finalizada
pause
goto menu_principal

:analisis_smart
cls
echo.
echo üìä AN√ÅLISIS SMART DETALLADO
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo üîç Informaci√≥n general de discos:
wmic logicaldisk get size,freespace,caption,mediatype,status

echo.
echo üìä Informaci√≥n SMART detallada:
wmic diskdrive get model,status,mediatype,partitions,size,freespace

echo.
echo ‚ö†Ô∏è  An√°lisis de sectores defectuosos:
wmic diskdrive get model,status,mediatype,partitions,size,freespace /format:list

echo ‚úÖ An√°lisis SMART completado
pause
goto menu_principal

:verificacion_programada
cls
echo.
echo üìÖ CONFIGURACI√ìN DE VERIFICACIONES PROGRAMADAS
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo [1] Verificaci√≥n semanal (Domingo 3:00 AM)
echo [2] Verificaci√≥n mensual (Primer domingo 3:00 AM)
echo [3] Verificaci√≥n personalizada
echo [4] Ver tareas programadas
echo [5] Eliminar tareas programadas
echo [6] Volver al men√∫ principal
echo.
set /p opcion_prog="Selecciona una opci√≥n: "

if "%opcion_prog%"=="1" goto verificacion_semanal
if "%opcion_prog%"=="2" goto verificacion_mensual
if "%opcion_prog%"=="3" goto verificacion_personalizada
if "%opcion_prog%"=="4" goto ver_tareas
if "%opcion_prog%"=="5" goto eliminar_tareas
if "%opcion_prog%"=="6" goto menu_principal
goto verificacion_programada

:verificacion_semanal
echo.
echo üìÖ Configurando verificaci√≥n semanal...
schtasks /create /tn "Verificacion_Disco_Semanal" /tr "chkdsk C: /F /R" /sc weekly /d SUN /st 03:00 /ru SYSTEM
echo ‚úÖ Tarea semanal configurada
pause
goto verificacion_programada

:verificacion_mensual
echo.
echo üìÖ Configurando verificaci√≥n mensual...
schtasks /create /tn "Verificacion_Disco_Mensual" /tr "chkdsk C: /F /R" /sc monthly /d 1 /st 03:00 /ru SYSTEM
echo ‚úÖ Tarea mensual configurada
pause
goto verificacion_programada

:verificacion_personalizada
echo.
set /p dias="D√≠as entre verificaciones (ej: 7): "
set /p hora="Hora de ejecuci√≥n (ej: 03:00): "
echo.
echo üìÖ Configurando verificaci√≥n personalizada...
schtasks /create /tn "Verificacion_Disco_Personalizada" /tr "chkdsk C: /F /R" /sc daily /mo %dias% /st %hora% /ru SYSTEM
echo ‚úÖ Tarea personalizada configurada
pause
goto verificacion_programada

:ver_tareas
echo.
echo üìã Tareas programadas de verificaci√≥n:
schtasks /query | findstr "Verificacion"
pause
goto verificacion_programada

:eliminar_tareas
echo.
echo üóëÔ∏è Eliminando tareas de verificaci√≥n...
schtasks /delete /tn "Verificacion_Disco_Semanal" /f 2>nul
schtasks /delete /tn "Verificacion_Disco_Mensual" /f 2>nul
schtasks /delete /tn "Verificacion_Disco_Personalizada" /f 2>nul
echo ‚úÖ Tareas eliminadas
pause
goto verificacion_programada

:analisis_rendimiento
cls
echo.
echo üìà AN√ÅLISIS DE RENDIMIENTO
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo üìä Informaci√≥n de rendimiento de todas las unidades:

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        echo üìÅ Unidad %%d::
        echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        wmic logicaldisk where "DeviceID='%%d:'" get size,freespace,caption,mediatype,status
        echo.
        echo üìà Fragmentaci√≥n:
        defrag %%d: /A /V
        echo.
    )
)

echo ‚úÖ An√°lisis de rendimiento completado
pause
goto menu_principal

:verificacion_avanzada
cls
echo.
echo üî¨ VERIFICACI√ìN DE INTEGRIDAD AVANZADA
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo ‚ö†Ô∏è  Esta operaci√≥n realizar√° verificaciones profundas del sistema
echo.
set /p confirmar="¬øContinuar? (S/N): "
if /i not "%confirmar%"=="S" goto menu_principal

echo.
echo üî¨ Iniciando verificaci√≥n avanzada...

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        echo üìÅ Verificando unidad %%d: (Fase 1: Sistema de archivos)...
        chkdsk %%d: /F
        
        echo üìÅ Verificando unidad %%d: (Fase 2: Sectores f√≠sicos)...
        chkdsk %%d: /R
        
        echo üìÅ Verificando unidad %%d: (Fase 3: Metadatos)...
        fsutil fsinfo ntfsinfo %%d:
        
        echo üìÅ Verificando unidad %%d: (Fase 4: Integridad)...
        fsutil dirty query %%d:
        echo.
    )
)

echo ‚úÖ Verificaci√≥n avanzada completada
pause
goto menu_principal

:monitoreo_continuo
cls
echo.
echo üìä MONITOREO CONTINUO DE SALUD
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
set /p intervalo="Intervalo de monitoreo en minutos (ej: 60): "
set /p log_file="Archivo de log (ej: monitor_salud.log): "

echo.
echo üìä Iniciando monitoreo continuo...
echo üîÑ Intervalo: %intervalo% minutos
echo üìù Log: %log_file%
echo.
echo Presiona Ctrl+C para detener
echo.

:loop_monitoreo
echo [%date% %time%] Verificando salud de discos... >> "%log_file%"

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        echo üìÅ Unidad %%d:: >> "%log_file%"
        wmic logicaldisk where "DeviceID='%%d:'" get size,freespace,caption,mediatype,status >> "%log_file%"
        echo. >> "%log_file%"
    )
)

timeout /t %intervalo% /nobreak >nul
goto loop_monitoreo

:generar_reporte
cls
echo.
echo üìã GENERAR REPORTE COMPLETO
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
set /p nombre_reporte="Nombre del reporte (sin extensi√≥n): "

echo Fecha: %date% %time% > "%nombre_reporte%.txt"
echo ================================ >> "%nombre_reporte%.txt"
echo REPORTE DE SALUD DE DISCOS >> "%nombre_reporte%.txt"
echo ================================ >> "%nombre_reporte%.txt"
echo. >> "%nombre_reporte%.txt"

echo üìä INFORMACI√ìN GENERAL: >> "%nombre_reporte%.txt"
wmic logicaldisk get size,freespace,caption,mediatype,status >> "%nombre_reporte%.txt"
echo. >> "%nombre_reporte%.txt"

echo üîç INFORMACI√ìN SMART: >> "%nombre_reporte%.txt"
wmic diskdrive get model,status,mediatype,partitions,size,freespace >> "%nombre_reporte%.txt"
echo. >> "%nombre_reporte%.txt"

echo üìà AN√ÅLISIS DE FRAGMENTACI√ìN: >> "%nombre_reporte%.txt"
defrag C: /A /V >> "%nombre_reporte%.txt"
echo. >> "%nombre_reporte%.txt"

echo üîß ESTADO DEL SISTEMA DE ARCHIVOS: >> "%nombre_reporte%.txt"
fsutil fsinfo ntfsinfo C: >> "%nombre_reporte%.txt"
echo. >> "%nombre_reporte%.txt"

echo ‚úÖ Reporte guardado como: %nombre_reporte%.txt
pause
goto menu_principal

:configuracion
cls
echo.
echo ‚öôÔ∏è CONFIGURACI√ìN PERSONALIZADA
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo [1] Configurar unidades a verificar
echo [2] Configurar horarios de verificaci√≥n
echo [3] Configurar umbrales de alerta
echo [4] Volver al men√∫ principal
echo.
set /p opcion_config="Selecciona una opci√≥n: "

if "%opcion_config%"=="1" goto config_unidades
if "%opcion_config%"=="2" goto config_horarios
if "%opcion_config%"=="3" goto config_umbrales
if "%opcion_config%"=="4" goto menu_principal
goto configuracion

:config_unidades
echo.
set /p unidades_config="Unidades a verificar (ej: C,D,E): "
echo Unidades configuradas: %unidades_config%
pause
goto configuracion

:config_horarios
echo.
set /p hora_config="Hora de verificaci√≥n (ej: 03:00): "
echo Hora configurada: %hora_config%
pause
goto configuracion

:config_umbrales
echo.
set /p umbral_config="Umbral de espacio libre (GB): "
echo Umbral configurado: %umbral_config% GB
pause
goto configuracion

:salir
echo.
echo üëã ¬°Gracias por usar el Gestor de Diagn√≥stico de Discos!
echo.
exit /b 0
```

### **Script para Sistema de Monitoreo Proactivo de Salud de Discos**

```batch
@echo off
setlocal enabledelayedexpansion
title üõ°Ô∏è SISTEMA DE MONITOREO PROACTIVO DE SALUD DE DISCOS

:configuracion_inicial
cls
echo.
echo ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
echo ‚ïë      üõ°Ô∏è SISTEMA DE MONITOREO PROACTIVO DE SALUD DE DISCOS üõ°Ô∏è ‚ïë
echo ‚ïë                    Detecci√≥n Temprana de Problemas            ‚ïë
echo ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
echo.
set /p umbral_espacio="Umbral de espacio libre (GB): "
set /p intervalo_monitoreo="Intervalo de monitoreo (minutos): "
set /p log_file="Archivo de log: "

echo.
echo ‚öôÔ∏è Configuraci√≥n del sistema:
echo    Umbral de espacio libre: %umbral_espacio% GB
echo    Intervalo de monitoreo: %intervalo_monitoreo% minutos
echo    Archivo de log: %log_file%
echo.
pause

:sistema_proactivo
cls
echo.
echo üõ°Ô∏è SISTEMA PROACTIVO ACTIVO
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo üîÑ Monitoreando cada %intervalo_monitoreo% minutos...
echo üìù Registrando en: %log_file%
echo.
echo Presiona Ctrl+C para detener
echo.

:loop_proactivo
echo [%date% %time%] Iniciando ciclo de monitoreo proactivo... >> "%log_file%"

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        echo üìÅ Analizando unidad %%d:... >> "%log_file%"
        
        REM Verificar espacio libre
        for /f "tokens=3" %%f in ('dir %%d:\ /-c ^| findstr "bytes free"') do (
            set "espacio_libre=%%f"
            set /a "espacio_gb=!espacio_libre!/1073741824"
            
            if !espacio_gb! lss %umbral_espacio% (
                echo ‚ö†Ô∏è  ALERTA: Unidad %%d: espacio bajo (!espacio_gb! GB) >> "%log_file%"
                echo üßπ Iniciando limpieza autom√°tica... >> "%log_file%"
                call :limpieza_automatica %%d
            ) else (
                echo ‚úÖ Unidad %%d: espacio normal (!espacio_gb! GB) >> "%log_file%"
            )
        )
        
        REM Verificar estado del disco
        for /f "tokens=2" %%i in ('wmic logicaldisk where "DeviceID='%%d:'" get status /value ^| findstr "Status"') do (
            set "estado_disco=%%i"
            
            if not "!estado_disco!"=="OK" (
                echo ‚ö†Ô∏è  ALERTA: Unidad %%d: estado anormal (!estado_disco!) >> "%log_file%"
                echo üîß Iniciando verificaci√≥n autom√°tica... >> "%log_file%"
                chkdsk %%d: /F
            ) else (
                echo ‚úÖ Unidad %%d: estado normal >> "%log_file%"
            )
        )
        
        echo. >> "%log_file%"
    )
)

echo [%date% %time%] Ciclo completado. Esperando %intervalo_monitoreo% minutos... >> "%log_file%"
echo. >> "%log_file%"

timeout /t %intervalo_monitoreo% /nobreak >nul
goto loop_proactivo

:limpieza_automatica
set "unidad=%1"
echo üìÅ Limpiando archivos temporales en %unidad%:... >> "%log_file%"
del /q /f /s "%TEMP%\*.*" 2>nul
del /q /f /s "%TMP%\*.*" 2>nul
del /q /f /s "%USERPROFILE%\AppData\Local\Temp\*.*" 2>nul
echo ‚úÖ Limpieza autom√°tica completada >> "%log_file%"
goto :eof
```

---

## üí° Consejos Importantes

### **Diagn√≥stico**
- **Verificaci√≥n Regular**: Programa verificaciones autom√°ticas para detectar problemas temprano
- **An√°lisis SMART**: Utiliza datos SMART para predecir fallas de disco
- **Monitoreo Continuo**: Establece sistemas de alerta para cambios en la salud del disco

### **Seguridad**
- **Respaldo**: Siempre haz respaldo antes de realizar verificaciones profundas
- **Verificaci√≥n Gradual**: Realiza verificaciones en etapas para evitar interrupciones
- **Permisos**: Aseg√∫rate de tener permisos de administrador para verificaciones del sistema

### **Mejores Pr√°cticas**
- **Documentaci√≥n**: Mant√©n registros detallados de todas las verificaciones realizadas
- **An√°lisis de Tendencias**: Monitorea cambios en el rendimiento del disco a lo largo del tiempo
- **Mantenimiento Preventivo**: Establece un calendario de verificaciones preventivas

---

## üåç Casos de Uso Reales

### **Administraci√≥n de Sistemas**
- **Mantenimiento Preventivo**: Verificaci√≥n programada en servidores para prevenir fallas
- **Diagn√≥stico de Problemas**: An√°lisis de discos para identificar causas de lentitud
- **Gesti√≥n de Almacenamiento**: Monitoreo de espacio y salud en servidores de archivos

### **Entornos Educativos**
- **Mantenimiento de Laboratorios**: Verificaci√≥n autom√°tica de equipos en aulas de inform√°tica
- **Gesti√≥n de Proyectos**: Monitoreo de unidades de almacenamiento de proyectos
- **Prevenci√≥n de P√©rdida de Datos**: Verificaci√≥n regular en equipos de estudiantes

### **Empresas**
- **Mantenimiento de Estaciones de Trabajo**: Verificaci√≥n automatizada en equipos corporativos
- **Gesti√≥n de Servidores**: Monitoreo y verificaci√≥n de servidores cr√≠ticos
- **Cumplimiento**: Verificaci√≥n regular para cumplir con pol√≠ticas de mantenimiento

---

## üéØ Conclusi√≥n y Siguiente Paso

¬°Excelente trabajo! Has dominado las t√©cnicas avanzadas de diagn√≥stico y verificaci√≥n de la salud de los discos, transform√°ndote en un experto en el mantenimiento preventivo de sistemas de almacenamiento. La capacidad de detectar problemas antes de que se conviertan en fallos cr√≠ticos es una habilidad fundamental que te distinguir√° como administrador de sistemas.

En el pr√≥ximo cap√≠tulo, **"52. Formatear discos"**, aprender√°s t√©cnicas avanzadas de formateo y preparaci√≥n de unidades de almacenamiento. Descubrir√°s c√≥mo configurar discos para diferentes usos, c√≥mo optimizar el rendimiento desde el inicio y c√≥mo manejar diferentes sistemas de archivos.

**¬øEst√°s listo para convertirte en un experto en preparaci√≥n de discos?** üöÄ

---

## üìö Enlaces Relacionados

- [Cap√≠tulo 30: Informaci√≥n del sistema](30.%20Informaci√≥n%20del%20sistema.md)
- [Cap√≠tulo 50: Optimizar y desfragmentar disco](50.%20Optimizar%20y%20desfragmentar%20disco.md)
- [Cap√≠tulo 52: Formatear discos](52.%20Formatear%20discos.md)

---

## üìñ Fuentes y Referencias

- **Microsoft Docs**: [Chkdsk Command](https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/chkdsk)
- **Windows Command Line**: [WMIC Disk Commands](https://docs.microsoft.com/en-us/windows/win32/wmisdk/wmic)
- **PowerShell Documentation**: [Storage Management](https://docs.microsoft.com/en-us/powershell/module/storage/)
- **Windows Sysinternals**: [Disk Analysis Tools](https://docs.microsoft.com/en-us/sysinternals/)

---

**Autor**: Jerson Mart√≠nez  
**Sitio Web**: [jersonmartinez.com](https://jersonmartinez.com)  
**Blog DevOps**: [crashell.com](https://crashell.com)  
**Fecha**: 2024 