# 🏷️ 47. Etiquetar discos

> *"En el caos de múltiples discos, las etiquetas son tu brújula. Organiza tu almacenamiento como un bibliotecario organiza sus libros."*

## 🎯 Introducción

¿Te has encontrado alguna vez navegando por el Explorador de Windows y viendo unidades con nombres genéricos como "Disco local (D:)" o "Nueva unidad (E:)"? ¿O has tenido que conectar múltiples discos externos y no sabes cuál es cuál? En el mundo de la administración de sistemas, donde un servidor puede tener docenas de unidades, **etiquetar discos** se convierte en una habilidad esencial.

Las etiquetas de volumen son como los nombres de las calles en una ciudad: te permiten navegar por tu sistema de almacenamiento de manera intuitiva y eficiente. No solo mejoran la experiencia del usuario, sino que también facilitan la administración, el mantenimiento y la recuperación de desastres.

En este capítulo, aprenderás a dominar el arte de etiquetar discos desde la línea de comandos, transformando tu sistema de almacenamiento en un entorno organizado y profesional que cualquier administrador de sistemas envidiaría.

## 📚 Conceptos Clave

### 🏷️ **Etiqueta de Volumen**
Nombre descriptivo asignado a una unidad de almacenamiento que permite identificarla fácilmente, independientemente de su letra de unidad.

### 💾 **Sistema de Archivos**
Estructura que organiza y almacena datos en un disco, determinando cómo se pueden etiquetar y gestionar las unidades.

### 🔤 **Convención de Nomenclatura**
Estándares para nombrar etiquetas de manera consistente y comprensible en entornos empresariales.

### 📋 **Gestión de Metadatos**
Información adicional almacenada junto con la etiqueta que describe el propósito y contenido del disco.

## 🛠️ Comandos Principales

### `LABEL`
Comando nativo de Windows para crear, cambiar o eliminar etiquetas de volumen.

```batch
# Sintaxis básica
label [unidad:] [nueva_etiqueta]
```

### `VOL`
Muestra la etiqueta y el número de serie de un volumen específico.

```batch
# Sintaxis básica
vol [unidad:]
```

### `WMIC LOGICALDISK`
Acceso avanzado a información de discos lógicos a través de WMI.

```batch
# Sintaxis básica
wmic logicaldisk get /format:list
```

### `POWERSHELL` (Set-Volume)
Comando de PowerShell para gestionar etiquetas de volumen de manera avanzada.

```powershell
# Sintaxis básica
Set-Volume -DriveLetter [letra] -NewFileSystemLabel [etiqueta]
```

## 💡 Ejemplos Prácticos

### 1. **Ver etiqueta actual de una unidad**
**Propósito**: Identificar rápidamente el contenido o propósito de una unidad específica.

```batch
# Ver etiqueta de la unidad C:
vol C:

# Ver etiqueta de todas las unidades
for %d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do @if exist %d:\ vol %d:
```

**Caso de uso real**: Un administrador de sistemas necesita identificar rápidamente qué unidad contiene los datos de respaldo antes de realizar mantenimiento.

### 2. **Crear una nueva etiqueta**
**Propósito**: Asignar un nombre descriptivo a una unidad para facilitar su identificación.

```batch
# Etiquetar unidad D: como "DATOS_USUARIOS"
label D: DATOS_USUARIOS

# Etiquetar unidad E: como "RESPALDO_DIARIO"
label E: RESPALDO_DIARIO
```

**Caso de uso real**: En un servidor de archivos, cada unidad debe tener una etiqueta clara que indique su contenido específico.

### 3. **Cambiar etiqueta existente**
**Propósito**: Actualizar el nombre de una unidad cuando cambia su propósito o contenido.

```batch
# Cambiar etiqueta de C: a "SISTEMA_WINDOWS"
label C: SISTEMA_WINDOWS

# Cambiar etiqueta de D: a "ARCHIVOS_PROYECTOS"
label D: ARCHIVOS_PROYECTOS
```

**Caso de uso real**: Cuando una unidad cambia de propósito, por ejemplo, de "TEMPORAL" a "PRODUCCION".

### 4. **Eliminar etiqueta de volumen**
**Propósito**: Remover el nombre descriptivo de una unidad, dejándola sin etiqueta.

```batch
# Eliminar etiqueta de la unidad F:
label F:

# Confirmar eliminación
vol F:
```

**Caso de uso real**: Preparar una unidad para reasignación o cuando se va a formatear completamente.

### 5. **Etiquetar múltiples unidades**
**Propósito**: Organizar todo el sistema de almacenamiento de manera consistente.

```batch
# Etiquetar sistema de almacenamiento completo
label C: SISTEMA_OPERATIVO
label D: DATOS_USUARIOS
label E: RESPALDO_DIARIO
label F: ARCHIVOS_TEMPORALES
label G: BASE_DE_DATOS
```

**Caso de uso real**: Configuración inicial de un servidor de archivos con múltiples unidades especializadas.

### 6. **Verificar etiquetas con PowerShell**
**Propósito**: Obtener información detallada sobre etiquetas usando herramientas modernas.

```powershell
# Listar todas las unidades con sus etiquetas
Get-Volume | Select-Object DriveLetter, FileSystemLabel, FileSystem, Size, SizeRemaining

# Cambiar etiqueta usando PowerShell
Set-Volume -DriveLetter D -NewFileSystemLabel "DATOS_CRITICOS"
```

**Caso de uso real**: Administración avanzada de unidades en entornos empresariales modernos.

### 7. **Etiquetar unidades externas**
**Propósito**: Identificar unidades USB o discos externos para facilitar su gestión.

```batch
# Etiquetar unidad USB como "RESPALDO_PORTATIL"
label H: RESPALDO_PORTATIL

# Etiquetar disco externo como "ARCHIVOS_MULTIMEDIA"
label I: ARCHIVOS_MULTIMEDIA
```

**Caso de uso real**: Un fotógrafo profesional que usa múltiples discos externos para diferentes proyectos.

### 8. **Crear etiquetas con fecha**
**Propósito**: Incluir información temporal en las etiquetas para seguimiento.

```batch
# Etiquetar con fecha actual
label J: RESPALDO_%date:~-4,4%%date:~-10,2%%date:~-7,2%

# Etiquetar con fecha y hora
label K: LOGS_%date:~-4,4%%date:~-10,2%%date:~-7,2%_%time:~0,2%%time:~3,2%
```

**Caso de uso real**: Creación de respaldos incrementales con identificación temporal automática.

### 9. **Etiquetar unidades de red**
**Propósito**: Organizar unidades de red mapeadas con nombres descriptivos.

```batch
# Etiquetar unidad de red mapeada
label Z: SERVIDOR_ARCHIVOS

# Verificar etiqueta de unidad de red
vol Z:
```

**Caso de uso real**: En entornos corporativos donde se mapean múltiples recursos de red.

### 10. **Validar etiquetas existentes**
**Propósito**: Verificar que todas las unidades tengan etiquetas apropiadas.

```batch
# Script para validar etiquetas
for %d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %d:\ (
        vol %d: | findstr /i "no label" >nul
        if !errorlevel! equ 0 (
            echo ❌ %d: - Sin etiqueta
        ) else (
            echo ✅ %d: - Con etiqueta
        )
    )
)
```

**Caso de uso real**: Auditoría de cumplimiento donde todas las unidades deben estar etiquetadas.

## 🔧 Scripts Avanzados

### Script para Gestión Completa de Etiquetas

```batch
@echo off
setlocal enabledelayedexpansion
title Gestión Avanzada de Etiquetas de Disco - Sistema de Organización

:: Verificar privilegios de administrador
net session >nul 2>&1
if %errorLevel% neq 0 (
    echo [ERROR] Este script requiere privilegios de administrador.
    echo Ejecuta como administrador y vuelve a intentar.
    pause
    exit /b 1
)

:menu_principal
cls
echo.
echo ╔══════════════════════════════════════════════════════════════╗
echo ║                    🏷️ GESTIÓN DE ETIQUETAS 🏷️                ║
echo ║                    Sistema de Organización Avanzado          ║
echo ╚══════════════════════════════════════════════════════════════╝
echo.
echo [1] 🔍 Ver todas las etiquetas
echo [2] 🏷️  Crear nueva etiqueta
echo [3] ✏️  Cambiar etiqueta existente
echo [4] 🗑️  Eliminar etiqueta
echo [5] 📋 Etiquetar múltiples unidades
echo [6] 📊 Reporte de etiquetas
echo [7] 🔄 Etiquetado automático
echo [8] 🛡️  Auditoría de etiquetas
echo [9] 📁 Organización por categorías
echo [0] ❌ Salir
echo.
set /p opcion="Selecciona una opción: "

if "%opcion%"=="1" goto ver_etiquetas
if "%opcion%"=="2" goto crear_etiqueta
if "%opcion%"=="3" goto cambiar_etiqueta
if "%opcion%"=="4" goto eliminar_etiqueta
if "%opcion%"=="5" goto etiquetar_multiple
if "%opcion%"=="6" goto reporte_etiquetas
if "%opcion%"=="7" goto etiquetado_automatico
if "%opcion%"=="8" goto auditoria_etiquetas
if "%opcion%"=="9" goto organizacion_categorias
if "%opcion%"=="0" goto salir
goto menu_principal

:ver_etiquetas
cls
echo.
echo 🔍 ETIQUETAS DE TODAS LAS UNIDADES
echo ════════════════════════════════════════════════════════════════
echo.
echo Unidad | Etiqueta                    | Sistema de Archivos
echo ════════════════════════════════════════════════════════════════

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        set "etiqueta="
        for /f "tokens=*" %%i in ('vol %%d: 2^>nul ^| findstr /v "Volume"') do (
            set "etiqueta=%%i"
        )
        if "!etiqueta!"=="" (
            echo [%%d:]  | Sin etiqueta                    | NTFS
        ) else (
            echo [%%d:]  | !etiqueta! | NTFS
        )
    )
)
echo.
pause
goto menu_principal

:crear_etiqueta
cls
echo.
echo 🏷️  CREAR NUEVA ETIQUETA
echo ════════════════════════════════════════════════════════════════
echo.
set /p unidad="Ingresa la letra de la unidad (ej: D): "
if not exist %unidad%:\ (
    echo ❌ La unidad %unidad%: no existe.
    pause
    goto menu_principal
)

set /p nueva_etiqueta="Ingresa la nueva etiqueta: "
if "%nueva_etiqueta%"=="" (
    echo ❌ La etiqueta no puede estar vacía.
    pause
    goto menu_principal
)

echo.
echo 🔄 Creando etiqueta "%nueva_etiqueta%" en %unidad%:...
label %unidad%: %nueva_etiqueta%

if %errorlevel% equ 0 (
    echo ✅ Etiqueta creada exitosamente
    echo.
    echo 📋 Verificando...
    vol %unidad%:
) else (
    echo ❌ Error al crear la etiqueta
)
pause
goto menu_principal

:cambiar_etiqueta
cls
echo.
echo ✏️  CAMBIAR ETIQUETA EXISTENTE
echo ════════════════════════════════════════════════════════════════
echo.
set /p unidad="Ingresa la letra de la unidad (ej: D): "
if not exist %unidad%:\ (
    echo ❌ La unidad %unidad%: no existe.
    pause
    goto menu_principal
)

echo.
echo 📋 Etiqueta actual de %unidad%::
vol %unidad%:
echo.

set /p nueva_etiqueta="Ingresa la nueva etiqueta: "
if "%nueva_etiqueta%"=="" (
    echo ❌ La etiqueta no puede estar vacía.
    pause
    goto menu_principal
)

echo.
echo 🔄 Cambiando etiqueta a "%nueva_etiqueta%" en %unidad%:...
label %unidad%: %nueva_etiqueta%

if %errorlevel% equ 0 (
    echo ✅ Etiqueta cambiada exitosamente
    echo.
    echo 📋 Nueva etiqueta:
    vol %unidad%:
) else (
    echo ❌ Error al cambiar la etiqueta
)
pause
goto menu_principal

:eliminar_etiqueta
cls
echo.
echo 🗑️  ELIMINAR ETIQUETA
echo ════════════════════════════════════════════════════════════════
echo.
set /p unidad="Ingresa la letra de la unidad (ej: D): "
if not exist %unidad%:\ (
    echo ❌ La unidad %unidad%: no existe.
    pause
    goto menu_principal
)

echo.
echo 📋 Etiqueta actual de %unidad%::
vol %unidad%:
echo.

set /p confirmar="¿Estás seguro de eliminar la etiqueta? (S/N): "
if /i not "%confirmar%"=="S" goto menu_principal

echo.
echo 🔄 Eliminando etiqueta de %unidad%:...
label %unidad%:

if %errorlevel% equ 0 (
    echo ✅ Etiqueta eliminada exitosamente
    echo.
    echo 📋 Verificando:
    vol %unidad%:
) else (
    echo ❌ Error al eliminar la etiqueta
)
pause
goto menu_principal

:etiquetar_multiple
cls
echo.
echo 📋 ETIQUETAR MÚLTIPLES UNIDADES
echo ════════════════════════════════════════════════════════════════
echo.
echo [1] Etiquetado estándar de servidor
echo [2] Etiquetado de desarrollo
echo [3] Etiquetado personalizado
echo [4] Volver al menú principal
echo.
set /p opcion_multiple="Selecciona una opción: "

if "%opcion_multiple%"=="1" (
    echo.
    echo 🏢 Configurando etiquetas estándar de servidor...
    label C: SISTEMA_OPERATIVO
    label D: DATOS_USUARIOS
    label E: RESPALDO_DIARIO
    label F: LOGS_SISTEMA
    label G: BASE_DE_DATOS
    echo ✅ Etiquetas de servidor configuradas
) else if "%opcion_multiple%"=="2" (
    echo.
    echo 💻 Configurando etiquetas de desarrollo...
    label C: SISTEMA_DEV
    label D: CODIGO_FUENTE
    label E: BASE_DATOS_DEV
    label F: DOCUMENTACION
    label G: HERRAMIENTAS_DEV
    echo ✅ Etiquetas de desarrollo configuradas
) else if "%opcion_multiple%"=="3" (
    echo.
    echo 🔧 Etiquetado personalizado...
    set /p unidades="Ingresa las unidades a etiquetar (ej: D E F): "
    set /p prefijo="Ingresa el prefijo para las etiquetas: "
    for %%u in (%unidades%) do (
        if exist %%u:\ (
            label %%u: %prefijo%_%%u
            echo ✅ %%u: etiquetado como %prefijo%_%%u
        )
    )
)
pause
goto menu_principal

:reporte_etiquetas
cls
echo.
echo 📊 GENERANDO REPORTE DE ETIQUETAS
echo ════════════════════════════════════════════════════════════════
echo.
set /p archivo_reporte="Nombre del archivo de reporte (ej: reporte_etiquetas.txt): "
echo 📋 Generando reporte completo...

echo ======================================== > "%archivo_reporte%"
echo REPORTE DE ETIQUETAS DE DISCO >> "%archivo_reporte%"
echo Fecha: %date% %time% >> "%archivo_reporte%"
echo ======================================== >> "%archivo_reporte%"
echo. >> "%archivo_reporte%"

echo Unidad | Etiqueta | Sistema | Tamaño >> "%archivo_reporte%"
echo ════════════════════════════════════════════════════════════════ >> "%archivo_reporte%"

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        set "etiqueta="
        for /f "tokens=*" %%i in ('vol %%d: 2^>nul ^| findstr /v "Volume"') do (
            set "etiqueta=%%i"
        )
        if "!etiqueta!"=="" (
            echo [%%d:] | Sin etiqueta | NTFS | >> "%archivo_reporte%"
        ) else (
            echo [%%d:] | !etiqueta! | NTFS | >> "%archivo_reporte%"
        )
    )
)

echo. >> "%archivo_reporte%"
echo ======================================== >> "%archivo_reporte%"
echo FIN DEL REPORTE >> "%archivo_reporte%"

echo ✅ Reporte generado: %archivo_reporte%
pause
goto menu_principal

:etiquetado_automatico
cls
echo.
echo 🔄 ETIQUETADO AUTOMÁTICO
echo ════════════════════════════════════════════════════════════════
echo.
echo [1] Etiquetar por fecha
echo [2] Etiquetar por tipo de contenido
echo [3] Etiquetar por tamaño
echo [4] Volver al menú principal
echo.
set /p opcion_auto="Selecciona una opción: "

if "%opcion_auto%"=="1" (
    echo.
    echo 📅 Etiquetando por fecha...
    for %%d in (D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
        if exist %%d:\ (
            label %%d: DISCO_%date:~-4,4%%date:~-10,2%%date:~-7,2%
            echo ✅ %%d: etiquetado con fecha
        )
    )
) else if "%opcion_auto%"=="2" (
    echo.
    echo 📁 Etiquetando por tipo de contenido...
    set /p tipo="Tipo de contenido (ej: DATOS, RESPALDO, MULTIMEDIA): "
    for %%d in (D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
        if exist %%d:\ (
            label %%d: %tipo%_%%d
            echo ✅ %%d: etiquetado como %tipo%_%%d
        )
    )
) else if "%opcion_auto%"=="3" (
    echo.
    echo 📏 Etiquetando por tamaño...
    for %%d in (D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
        if exist %%d:\ (
            for /f "tokens=3" %%s in ('dir %%d:\ ^| findstr "bytes free"') do (
                set "tamaño=%%s"
                if !tamaño! gtr 1000000000 (
                    label %%d: DISCO_GRANDE_%%d
                ) else (
                    label %%d: DISCO_PEQUEÑO_%%d
                )
                echo ✅ %%d: etiquetado por tamaño
            )
        )
    )
)
pause
goto menu_principal

:auditoria_etiquetas
cls
echo.
echo 🛡️  AUDITORÍA DE ETIQUETAS
echo ════════════════════════════════════════════════════════════════
echo.
echo 🔍 Verificando cumplimiento de etiquetas...

set "unidades_sin_etiqueta=0"
set "unidades_con_etiqueta=0"

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        vol %%d: | findstr /i "no label" >nul
        if !errorlevel! equ 0 (
            echo ❌ %%d: - Sin etiqueta
            set /a unidades_sin_etiqueta+=1
        ) else (
            echo ✅ %%d: - Con etiqueta
            set /a unidades_con_etiqueta+=1
        )
    )
)

echo.
echo 📊 RESUMEN DE AUDITORÍA:
echo ════════════════════════════════════════════════════════════════
echo Unidades con etiqueta: %unidades_con_etiqueta%
echo Unidades sin etiqueta: %unidades_sin_etiqueta%
echo.

if %unidades_sin_etiqueta% gtr 0 (
    echo ⚠️  Se encontraron unidades sin etiquetar.
    echo    Considera etiquetarlas para mejor organización.
) else (
    echo 🎉 ¡Todas las unidades están correctamente etiquetadas!
)
pause
goto menu_principal

:organizacion_categorias
cls
echo.
echo 📁 ORGANIZACIÓN POR CATEGORÍAS
echo ════════════════════════════════════════════════════════════════
echo.
echo [1] Categoría: SISTEMA
echo [2] Categoría: DATOS
echo [3] Categoría: RESPALDO
echo [4] Categoría: MULTIMEDIA
echo [5] Categoría: DESARROLLO
echo [6] Volver al menú principal
echo.
set /p categoria="Selecciona una categoría: "

if "%categoria%"=="1" (
    echo.
    echo 🖥️  Configurando categoría SISTEMA...
    label C: SISTEMA_OPERATIVO
    label D: SISTEMA_LOGS
    label E: SISTEMA_TEMP
    echo ✅ Categoría SISTEMA configurada
) else if "%categoria%"=="2" (
    echo.
    echo 📊 Configurando categoría DATOS...
    label F: DATOS_USUARIOS
    label G: DATOS_APLICACIONES
    label H: DATOS_CRITICOS
    echo ✅ Categoría DATOS configurada
) else if "%categoria%"=="3" (
    echo.
    echo 💾 Configurando categoría RESPALDO...
    label I: RESPALDO_DIARIO
    label J: RESPALDO_SEMANAL
    label K: RESPALDO_MENSUAL
    echo ✅ Categoría RESPALDO configurada
) else if "%categoria%"=="4" (
    echo.
    echo 🎬 Configurando categoría MULTIMEDIA...
    label L: MULTIMEDIA_VIDEOS
    label M: MULTIMEDIA_IMAGENES
    label N: MULTIMEDIA_AUDIO
    echo ✅ Categoría MULTIMEDIA configurada
) else if "%categoria%"=="5" (
    echo.
    echo 💻 Configurando categoría DESARROLLO...
    label O: DESARROLLO_CODIGO
    label P: DESARROLLO_DB
    label Q: DESARROLLO_DOCS
    echo ✅ Categoría DESARROLLO configurada
)
pause
goto menu_principal

:salir
echo.
echo 👋 ¡Gracias por usar el Sistema de Gestión de Etiquetas!
echo 🏷️ Tu almacenamiento está organizado y profesional.
echo.
exit /b 0
```

### Script para Sistema de Gestión Avanzada de Etiquetas

```batch
@echo off
setlocal enabledelayedexpansion
title Sistema Avanzado de Gestión de Etiquetas - Enterprise Edition

:: Verificar privilegios de administrador
net session >nul 2>&1
if %errorLevel% neq 0 (
    echo [ERROR] Privilegios de administrador requeridos.
    exit /b 1
)

:: Configuración del sistema
set "LOG_FILE=%TEMP%\disk_labels.log"
set "CONFIG_FILE=%TEMP%\label_config.ini"
set "BACKUP_DIR=%USERPROFILE%\Desktop\Label_Backup"

:: Crear directorio de respaldo
if not exist "%BACKUP_DIR%" mkdir "%BACKUP_DIR%"

:: Función de logging
:log
echo [%date% %time%] %~1 >> "%LOG_FILE%"
goto :eof

:: Función de backup de etiquetas
:backup_labels
call :log "Creando respaldo de etiquetas actuales..."
echo [Disk_Labels] > "%CONFIG_FILE%"
echo Backup_Date=%date% %time% >> "%CONFIG_FILE%"
echo. >> "%CONFIG_FILE%"

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        echo [%%d:] >> "%CONFIG_FILE%"
        vol %%d: >> "%CONFIG_FILE%" 2>nul
        echo. >> "%CONFIG_FILE%"
    )
)

copy "%CONFIG_FILE%" "%BACKUP_DIR%\labels_%date:~-4,4%%date:~-10,2%%date:~-7,2%_%time:~0,2%%time:~3,2%.ini" >nul
call :log "Respaldo creado en %BACKUP_DIR%"
goto :eof

:: Función de etiquetado inteligente
:smart_labeling
set "target_unit=%~1"
set "label_type=%~2"

if "%target_unit%"=="" (
    echo ❌ Unidad objetivo no especificada
    goto :eof
)

call :log "Iniciando etiquetado inteligente en %target_unit%:"

if "%label_type%"=="system" (
    echo 🖥️ Etiquetando como unidad de sistema...
    label %target_unit%: SISTEMA_%target_unit%
) else if "%label_type%"=="data" (
    echo 📊 Etiquetando como unidad de datos...
    label %target_unit%: DATOS_%target_unit%
) else if "%label_type%"=="backup" (
    echo 💾 Etiquetando como unidad de respaldo...
    label %target_unit%: RESPALDO_%target_unit%
) else if "%label_type%"=="custom" (
    set /p custom_label="Etiqueta personalizada: "
    label %target_unit%: %custom_label%
)

call :log "Etiquetado completado en %target_unit%:"
goto :eof

:: Función de análisis de contenido
:content_analysis
set "target_unit=%~1"

if "%target_unit%"=="" (
    echo ❌ Unidad objetivo no especificada
    goto :eof
)

call :log "Analizando contenido de %target_unit%:"

:: Contar archivos por tipo
set "image_count=0"
set "video_count=0"
set "doc_count=0"
set "exe_count=0"

for /r %target_unit%:\ %%f in (*) do (
    set "ext=%%~xf"
    if /i "!ext!"==".jpg" set /a image_count+=1
    if /i "!ext!"==".mp4" set /a video_count+=1
    if /i "!ext!"==".doc" set /a doc_count+=1
    if /i "!ext!"==".exe" set /a exe_count+=1
)

echo 📊 Análisis de contenido para %target_unit%::
echo   Imágenes: %image_count%
echo   Videos: %video_count%
echo   Documentos: %doc_count%
echo   Ejecutables: %exe_count%

:: Sugerir etiqueta basada en contenido
if %image_count% gtr %video_count% (
    if %image_count% gtr %doc_count% (
        echo 🏷️ Sugerencia: MULTIMEDIA_IMAGENES
    ) else (
        echo 🏷️ Sugerencia: DOCUMENTOS
    )
) else (
    if %video_count% gtr %doc_count% (
        echo 🏷️ Sugerencia: MULTIMEDIA_VIDEOS
    ) else (
        echo 🏷️ Sugerencia: DOCUMENTOS
    )
)

goto :eof

:: Función de monitoreo de cambios
:monitor_changes
echo.
echo 🔍 MONITOREO DE CAMBIOS EN ETIQUETAS
echo ════════════════════════════════════════════════════════════════
echo.
echo Presiona Ctrl+C para detener el monitoreo...
echo.

:monitor_loop
cls
echo [%time%] Estado de etiquetas:
echo ════════════════════════════════════════════════════════════════

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        set "current_label="
        for /f "tokens=*" %%i in ('vol %%d: 2^>nul ^| findstr /v "Volume"') do (
            set "current_label=%%i"
        )
        if "!current_label!"=="" (
            echo [%%d:] Sin etiqueta ✗
        ) else (
            echo [%%d:] !current_label! ✓
        )
    )
)

timeout /t 10 >nul
goto monitor_loop

:: Función de reporte de cumplimiento
:compliance_report
set "report_file=%BACKUP_DIR%\compliance_report_%date:~-4,4%%date:~-10,2%%date:~-7,2%.txt"

call :log "Generando reporte de cumplimiento..."

echo ======================================== > "%report_file%"
echo REPORTE DE CUMPLIMIENTO DE ETIQUETAS >> "%report_file%"
echo Fecha: %date% %time% >> "%report_file%"
echo ======================================== >> "%report_file%"
echo. >> "%report_file%"

:: Verificar unidades críticas
echo UNIDADES CRÍTICAS: >> "%report_file%"
echo ════════════════════════════════════════════════════════════════ >> "%report_file%"

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        vol %%d: 2>nul | findstr /i "no label" >nul
        if !errorlevel! equ 0 (
            echo [%%d:] NO CUMPLE ✗ >> "%report_file%"
        ) else (
            echo [%%d:] CUMPLE ✓ >> "%report_file%"
        )
    )
)

echo. >> "%report_file%"
echo ======================================== >> "%report_file%"
echo FIN DEL REPORTE >> "%report_file%"

call :log "Reporte de cumplimiento generado: %report_file%"
echo ✅ Reporte de cumplimiento: %report_file%
goto :eof

:: Menú principal avanzado
:main_menu
cls
echo.
echo ╔══════════════════════════════════════════════════════════════╗
echo ║              🏷️ SISTEMA AVANZADO DE ETIQUETAS 🏷️             ║
echo ║                    Enterprise Organization Suite             ║
echo ╚══════════════════════════════════════════════════════════════╝
echo.
echo [1] 🔍 Análisis completo del sistema
echo [2] 🏷️ Etiquetado inteligente
echo [3] 📊 Análisis de contenido
echo [4] 🔄 Monitoreo de cambios
echo [5] 📋 Reporte de cumplimiento
echo [6] 💾 Backup de etiquetas
echo [7] 🔧 Configuración avanzada
echo [8] 📈 Estadísticas de uso
echo [0] ❌ Salir
echo.
set /p opcion_avanzada="Selecciona una opción: "

if "%opcion_avanzada%"=="1" (
    call :backup_labels
    echo ✅ Análisis completado
    pause
    goto main_menu
) else if "%opcion_avanzada%"=="2" (
    set /p unidad_etiquetar="Unidad a etiquetar (ej: D): "
    set /p tipo_etiqueta="Tipo (system/data/backup/custom): "
    call :smart_labeling %unidad_etiquetar% %tipo_etiqueta%
    pause
    goto main_menu
) else if "%opcion_avanzada%"=="3" (
    set /p unidad_analizar="Unidad a analizar (ej: D): "
    call :content_analysis %unidad_analizar%
    pause
    goto main_menu
) else if "%opcion_avanzada%"=="4" (
    call :monitor_changes
    goto main_menu
) else if "%opcion_avanzada%"=="5" (
    call :compliance_report
    pause
    goto main_menu
) else if "%opcion_avanzada%"=="6" (
    call :backup_labels
    pause
    goto main_menu
) else if "%opcion_avanzada%"=="7" (
    echo 🔧 Configuración avanzada en desarrollo...
    pause
    goto main_menu
) else if "%opcion_avanzada%"=="8" (
    echo 📈 Estadísticas de uso en desarrollo...
    pause
    goto main_menu
) else if "%opcion_avanzada%"=="0" (
    echo.
    echo 👋 ¡Gracias por usar el Sistema Avanzado de Etiquetas!
    echo 🏷️ Tu almacenamiento está organizado profesionalmente.
    echo.
    exit /b 0
) else (
    goto main_menu
)

:: Inicialización del sistema
call :log "Sistema de Gestión Avanzada de Etiquetas iniciado"
call :backup_labels
goto main_menu
```

## 💡 Consejos Importantes

### 🏷️ **Organización**
- **Usa convenciones consistentes**: Establece un estándar de nomenclatura para toda la organización.
- **Incluye información útil**: Las etiquetas deben indicar el propósito o contenido del disco.
- **Mantén etiquetas actualizadas**: Revisa y actualiza las etiquetas cuando cambie el contenido.

### ⚡ **Optimización**
- **Etiquetas descriptivas**: Usa nombres que indiquen claramente el contenido o propósito.
- **Evita caracteres especiales**: Usa solo letras, números y guiones bajos para compatibilidad.
- **Longitud apropiada**: Mantén las etiquetas entre 5 y 20 caracteres para legibilidad.

### 🛡️ **Mejores Prácticas**
- **Backup de etiquetas**: Mantén un registro de todas las etiquetas configuradas.
- **Documentación**: Registra el propósito de cada unidad junto con su etiqueta.
- **Auditoría regular**: Verifica periódicamente que las etiquetas sean apropiadas.

## 🌍 Casos de Uso Reales

### 🏢 **Administración de Sistemas**
- **Servidores de archivos**: Organizar múltiples unidades por departamento o función.
- **Centros de datos**: Etiquetar unidades por tipo de servicio o cliente.
- **Backup y recuperación**: Identificar rápidamente unidades de respaldo.

### 🎓 **Educativo**
- **Laboratorios de computación**: Organizar unidades por curso o proyecto.
- **Investigación académica**: Etiquetar unidades por proyecto de investigación.
- **Administración de recursos**: Gestionar unidades compartidas en campus.

### 🏭 **Empresarial**
- **Entornos de desarrollo**: Separar código, datos y documentación.
- **Producción multimedia**: Organizar por tipo de contenido (video, audio, imágenes).
- **Cumplimiento normativo**: Etiquetar unidades según requisitos de auditoría.

## 🎯 Conclusión y Siguiente Paso

¡Excelente trabajo! Has dominado el arte de **etiquetar discos**, transformando tu sistema de almacenamiento en un entorno organizado y profesional. Ahora eres capaz de navegar por múltiples unidades con la misma facilidad que un bibliotecario experto.

La organización del almacenamiento no es solo una cuestión de estética, sino una **herramienta de productividad** que ahorra tiempo y reduce errores. Cada etiqueta bien colocada es un paso hacia un sistema más eficiente y mantenible.

En el próximo capítulo, **"48. Unidad Virtual"**, aprenderás a crear y gestionar unidades virtuales que pueden transformar tu sistema de almacenamiento. Descubrirás cómo las unidades virtuales pueden simular discos físicos y proporcionar soluciones flexibles para diferentes necesidades.

¿Estás listo para explorar el mundo de las unidades virtuales? ¡El siguiente nivel de administración de almacenamiento te espera! 🚀

---

## 📚 Enlaces Relacionados

- [💾 22. Compresión de archivos y directorios](22.%20Compresión%20de%20archivos%20y%20directorios.md) - Gestión de archivos
- [🔐 46. Bitlocker](46.%20Bitlocker.md) - Seguridad de unidades
- [📁 3. Gestión de directorios](3.%20Gestión%20de%20directorios.md) - Organización de archivos
- [🔍 19. Buscar y Ubicar archivos](19.%20Buscar%20y%20Ubicar%20archivos.md) - Localización de archivos

## 👨‍💻 Autor

**Jerson Martínez** - [jersonmartinez.com](https://jersonmartinez.com) | [crashell.com](https://crashell.com)

*Experto en administración de sistemas Windows y automatización de procesos empresariales.* 