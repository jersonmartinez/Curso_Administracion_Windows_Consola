# 49. Liberar espacio en disco

## üóëÔ∏è ¬øAlguna vez te has preguntado por qu√© tu disco duro se llena tan r√°pido?

> *"El espacio en disco es como el tiempo: siempre parece que hay suficiente hasta que no lo hay"* - An√≥nimo

En el mundo de la administraci√≥n de sistemas, la gesti√≥n del espacio en disco es una tarea cr√≠tica que puede marcar la diferencia entre un sistema funcionando perfectamente y uno colapsando por falta de recursos. ¬øSab√≠as que Windows puede acumular hasta 10GB de archivos temporales en solo un mes de uso normal? 

En este cap√≠tulo, aprender√°s t√©cnicas avanzadas para liberar espacio en disco de manera inteligente y sistem√°tica, transform√°ndote en un verdadero experto en optimizaci√≥n de recursos.

---

## üìö Conceptos Fundamentales

### **Espacio en Disco**
El espacio f√≠sico disponible en una unidad de almacenamiento para almacenar archivos, programas y datos del sistema.

### **Archivos Temporales**
Archivos creados por aplicaciones y el sistema operativo que se pueden eliminar de forma segura sin afectar la funcionalidad.

### **Archivos de Sistema**
Archivos cr√≠ticos del sistema operativo que no deben eliminarse para mantener la estabilidad del sistema.

### **Limpieza Inteligente**
Proceso sistem√°tico de identificaci√≥n y eliminaci√≥n de archivos innecesarios manteniendo la integridad del sistema.

---

## üõ†Ô∏è Comandos Principales

### **CLEANMGR**
Herramienta gr√°fica de limpieza de disco que identifica y elimina archivos innecesarios.

### **DEL**
Comando para eliminar archivos espec√≠ficos o grupos de archivos.

### **FORFILES**
Comando avanzado para procesar archivos bas√°ndose en criterios espec√≠ficos como fecha, tama√±o o tipo.

### **POWERSHELL**
Scripts avanzados para an√°lisis detallado y limpieza automatizada.

---

## üí° Ejemplos Pr√°cticos

### **Ejemplo 1: Limpieza B√°sica de Archivos Temporales**
**Prop√≥sito**: Eliminar archivos temporales del sistema y del usuario para liberar espacio inmediato.

```batch
@echo off
echo üßπ LIMPIEZA B√ÅSICA DE ARCHIVOS TEMPORALES
echo ============================================

echo.
echo üìÅ Limpiando archivos temporales del sistema...
del /q /f /s "%TEMP%\*.*" 2>nul
del /q /f /s "%TMP%\*.*" 2>nul

echo üìÅ Limpiando archivos temporales del usuario...
del /q /f /s "%USERPROFILE%\AppData\Local\Temp\*.*" 2>nul

echo üìÅ Limpiando cach√© del navegador...
del /q /f /s "%USERPROFILE%\AppData\Local\Microsoft\Windows\INetCache\*.*" 2>nul

echo ‚úÖ Limpieza completada
echo.
pause
```

### **Ejemplo 2: Eliminaci√≥n de Archivos Antiguos**
**Prop√≥sito**: Eliminar archivos que no han sido modificados en m√°s de 30 d√≠as para liberar espacio significativo.

```batch
@echo off
echo üóìÔ∏è ELIMINACI√ìN DE ARCHIVOS ANTIGUOS
echo ====================================

echo.
echo üìÖ Eliminando archivos m√°s antiguos de 30 d√≠as...
forfiles /p "%USERPROFILE%\Downloads" /s /m *.* /d -30 /c "cmd /c del @path" 2>nul
forfiles /p "%USERPROFILE%\Desktop" /s /m *.* /d -30 /c "cmd /c del @path" 2>nul

echo üìÖ Eliminando archivos de log antiguos...
forfiles /p "C:\Windows\Logs" /s /m *.log /d -60 /c "cmd /c del @path" 2>nul

echo ‚úÖ Eliminaci√≥n completada
echo.
pause
```

### **Ejemplo 3: Limpieza de Archivos de Sistema**
**Prop√≥sito**: Eliminar archivos de sistema innecesarios como puntos de restauraci√≥n antiguos y actualizaciones descargadas.

```batch
@echo off
echo üñ•Ô∏è LIMPIEZA DE ARCHIVOS DE SISTEMA
echo ===================================

echo.
echo üîÑ Limpiando puntos de restauraci√≥n antiguos...
vssadmin delete shadows /for=C: /oldest /quiet

echo üì¶ Limpiando actualizaciones descargadas...
del /q /f /s "C:\Windows\SoftwareDistribution\Download\*.*" 2>nul

echo üóÇÔ∏è Limpiando archivos de hibernaci√≥n...
powercfg /hibernate off
del /f "C:\hiberfil.sys" 2>nul
powercfg /hibernate on

echo ‚úÖ Limpieza de sistema completada
echo.
pause
```

### **Ejemplo 4: An√°lisis de Uso de Disco**
**Prop√≥sito**: Crear un reporte detallado del uso de espacio en disco para identificar las √°reas que m√°s espacio ocupan.

```batch
@echo off
echo üìä AN√ÅLISIS DE USO DE DISCO
echo ============================

echo.
echo üîç Analizando uso de espacio...
echo Fecha: %date% %time% > "reporte_disco.txt"
echo ================================ >> "reporte_disco.txt"

echo üìÅ Tama√±o de directorios principales: >> "reporte_disco.txt"
dir "C:\Users" /s | findstr "File(s)" >> "reporte_disco.txt"
dir "C:\Program Files" /s | findstr "File(s)" >> "reporte_disco.txt"
dir "C:\Windows" /s | findstr "File(s)" >> "reporte_disco.txt"

echo üìä Espacio libre en unidades: >> "reporte_disco.txt"
wmic logicaldisk get size,freespace,caption >> "reporte_disco.txt"

echo ‚úÖ Reporte guardado en: reporte_disco.txt
echo.
pause
```

### **Ejemplo 5: Limpieza de Aplicaciones**
**Prop√≥sito**: Eliminar archivos de aplicaciones desinstaladas y cach√©s de programas para liberar espacio.

```batch
@echo off
echo üéØ LIMPIEZA DE APLICACIONES
echo ============================

echo.
echo üóëÔ∏è Limpiando cach√© de aplicaciones...
del /q /f /s "%USERPROFILE%\AppData\Local\Microsoft\Windows\Explorer\*.*" 2>nul
del /q /f /s "%USERPROFILE%\AppData\Roaming\Microsoft\Windows\Recent\*.*" 2>nul

echo üéÆ Limpiando cach√© de juegos...
del /q /f /s "%USERPROFILE%\AppData\Local\Temp\*.*" 2>nul

echo üì± Limpiando cach√© de aplicaciones m√≥viles...
del /q /f /s "%USERPROFILE%\AppData\Local\Packages\*.*\AC\*.*" 2>nul

echo ‚úÖ Limpieza de aplicaciones completada
echo.
pause
```

### **Ejemplo 6: Compresi√≥n de Archivos**
**Prop√≥sito**: Comprimir archivos grandes para ahorrar espacio sin eliminarlos.

```batch
@echo off
echo üì¶ COMPRESI√ìN DE ARCHIVOS
echo ==========================

echo.
echo üìÅ Comprimiendo archivos de texto grandes...
for /r "%USERPROFILE%\Documents" %%f in (*.txt) do (
    if %%~zf gtr 1048576 (
        echo Comprimiendo: %%~nxf
        compact /c "%%f"
    )
)

echo üìÅ Comprimiendo archivos de log...
for /r "C:\Windows\Logs" %%f in (*.log) do (
    if %%~zf gtr 524288 (
        echo Comprimiendo: %%~nxf
        compact /c "%%f"
    )
)

echo ‚úÖ Compresi√≥n completada
echo.
pause
```

### **Ejemplo 7: Limpieza de Registro**
**Prop√≥sito**: Eliminar entradas obsoletas del registro de Windows para optimizar el sistema.

```batch
@echo off
echo üîß LIMPIEZA DE REGISTRO
echo =======================

echo.
echo üìù Creando respaldo del registro...
reg export "HKEY_CURRENT_USER\Software" "backup_registro.reg" /y

echo üóëÔ∏è Limpiando entradas obsoletas...
reg delete "HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\ComDlg32\OpenSavePidlMRU" /f 2>nul
reg delete "HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\ComDlg32\LastVisitedPidlMRU" /f 2>nul

echo ‚úÖ Limpieza de registro completada
echo.
pause
```

### **Ejemplo 8: Limpieza de Red**
**Prop√≥sito**: Eliminar archivos de red temporales y cach√©s de conexiones remotas.

```batch
@echo off
echo üåê LIMPIEZA DE RED
echo ===================

echo.
echo üåê Limpiando cach√© DNS...
ipconfig /flushdns

echo üåê Limpiando cach√© de red...
del /q /f /s "%USERPROFILE%\AppData\Local\Microsoft\Windows\WebCache\*.*" 2>nul

echo üåê Limpiando archivos de red temporales...
del /q /f /s "%USERPROFILE%\AppData\Local\Microsoft\Windows\History\*.*" 2>nul

echo ‚úÖ Limpieza de red completada
echo.
pause
```

### **Ejemplo 9: Limpieza de Impresoras**
**Prop√≥sito**: Eliminar archivos temporales de impresi√≥n y trabajos de impresi√≥n atascados.

```batch
@echo off
echo üñ®Ô∏è LIMPIEZA DE IMPRESORAS
echo =========================

echo.
echo üñ®Ô∏è Deteniendo servicio de spooler...
net stop spooler

echo üóëÔ∏è Limpiando archivos de impresi√≥n...
del /q /f /s "C:\Windows\System32\spool\PRINTERS\*.*" 2>nul

echo üîÑ Reiniciando servicio de spooler...
net start spooler

echo ‚úÖ Limpieza de impresoras completada
echo.
pause
```

### **Ejemplo 10: Limpieza Completa del Sistema**
**Prop√≥sito**: Ejecutar una limpieza completa y sistem√°tica de todo el sistema.

```batch
@echo off
echo üßπ LIMPIEZA COMPLETA DEL SISTEMA
echo =================================

echo.
echo üìä Analizando espacio antes de la limpieza...
wmic logicaldisk get size,freespace,caption

echo.
echo üßπ Iniciando limpieza completa...

echo üìÅ Limpiando archivos temporales...
del /q /f /s "%TEMP%\*.*" 2>nul
del /q /f /s "%TMP%\*.*" 2>nul
del /q /f /s "%USERPROFILE%\AppData\Local\Temp\*.*" 2>nul

echo üìÅ Limpiando cach√© del navegador...
del /q /f /s "%USERPROFILE%\AppData\Local\Microsoft\Windows\INetCache\*.*" 2>nul

echo üìÅ Eliminando archivos antiguos...
forfiles /p "%USERPROFILE%\Downloads" /s /m *.* /d -30 /c "cmd /c del @path" 2>nul

echo üì¶ Limpiando actualizaciones...
del /q /f /s "C:\Windows\SoftwareDistribution\Download\*.*" 2>nul

echo üîÑ Limpiando puntos de restauraci√≥n...
vssadmin delete shadows /for=C: /oldest /quiet

echo üìä Analizando espacio despu√©s de la limpieza...
wmic logicaldisk get size,freespace,caption

echo ‚úÖ Limpieza completa finalizada
echo.
pause
```

---

## üöÄ Scripts Avanzados

### **Script para Gesti√≥n Inteligente de Espacio en Disco**

```batch
@echo off
setlocal enabledelayedexpansion
title üßπ GESTOR INTELIGENTE DE ESPACIO EN DISCO

:menu_principal
cls
echo.
echo ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
echo ‚ïë                üßπ GESTOR DE ESPACIO EN DISCO üßπ              ‚ïë
echo ‚ïë                    Sistema de Limpieza Inteligente           ‚ïë
echo ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
echo.
echo [1] üìä An√°lisis completo del sistema
echo [2] üßπ Limpieza autom√°tica inteligente
echo [3] üóëÔ∏è Eliminaci√≥n de archivos antiguos
echo [4] üì¶ Compresi√≥n de archivos grandes
echo [5] üñ•Ô∏è Limpieza de sistema avanzada
echo [6] üì± Limpieza de aplicaciones
echo [7] üåê Limpieza de red y cach√©
echo [8] üìã Generar reporte detallado
echo [9] ‚öôÔ∏è Configuraci√≥n personalizada
echo [0] ‚ùå Salir
echo.
set /p opcion="Selecciona una opci√≥n: "

if "%opcion%"=="1" goto analisis_completo
if "%opcion%"=="2" goto limpieza_automatica
if "%opcion%"=="3" goto archivos_antiguos
if "%opcion%"=="4" goto compresion_archivos
if "%opcion%"=="5" goto limpieza_sistema
if "%opcion%"=="6" goto limpieza_aplicaciones
if "%opcion%"=="7" goto limpieza_red
if "%opcion%"=="8" goto generar_reporte
if "%opcion%"=="9" goto configuracion
if "%opcion%"=="0" goto salir
goto menu_principal

:analisis_completo
cls
echo.
echo üìä AN√ÅLISIS COMPLETO DEL SISTEMA
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo üîç Analizando uso de espacio en todas las unidades...
echo.

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        echo üìÅ Unidad %%d::
        dir %%d:\ /-c | findstr "bytes free"
        echo.
    )
)

echo üìä An√°lisis de directorios principales:
echo.
echo üìÅ Usuarios:
dir "C:\Users" /s | findstr "File(s)"
echo.
echo üìÅ Programas:
dir "C:\Program Files" /s | findstr "File(s)"
echo.
echo üìÅ Windows:
dir "C:\Windows" /s | findstr "File(s)"
echo.
pause
goto menu_principal

:limpieza_automatica
cls
echo.
echo üßπ LIMPIEZA AUTOM√ÅTICA INTELIGENTE
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo ‚ö†Ô∏è  Esta operaci√≥n eliminar√° archivos temporales y cach√©
echo.
set /p confirmar="¬øContinuar? (S/N): "
if /i not "%confirmar%"=="S" goto menu_principal

echo.
echo üßπ Iniciando limpieza autom√°tica...

echo üìÅ Limpiando archivos temporales del sistema...
del /q /f /s "%TEMP%\*.*" 2>nul
del /q /f /s "%TMP%\*.*" 2>nul
del /q /f /s "%USERPROFILE%\AppData\Local\Temp\*.*" 2>nul

echo üåê Limpiando cach√© del navegador...
del /q /f /s "%USERPROFILE%\AppData\Local\Microsoft\Windows\INetCache\*.*" 2>nul

echo üì¶ Limpiando actualizaciones descargadas...
del /q /f /s "C:\Windows\SoftwareDistribution\Download\*.*" 2>nul

echo üóëÔ∏è Eliminando archivos antiguos (m√°s de 30 d√≠as)...
forfiles /p "%USERPROFILE%\Downloads" /s /m *.* /d -30 /c "cmd /c del @path" 2>nul

echo ‚úÖ Limpieza autom√°tica completada
echo.
pause
goto menu_principal

:archivos_antiguos
cls
echo.
echo üóëÔ∏è ELIMINACI√ìN DE ARCHIVOS ANTIGUOS
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
set /p dias="Ingresa el n√∫mero de d√≠as (ej: 30): "
set /p directorio="Ingresa el directorio (ej: C:\Users\%USERNAME%\Downloads): "

echo.
echo üóëÔ∏è Eliminando archivos m√°s antiguos de %dias% d√≠as en %directorio%...
forfiles /p "%directorio%" /s /m *.* /d -%dias% /c "cmd /c del @path" 2>nul

echo ‚úÖ Eliminaci√≥n completada
echo.
pause
goto menu_principal

:compresion_archivos
cls
echo.
echo üì¶ COMPRESI√ìN DE ARCHIVOS
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
set /p directorio="Ingresa el directorio a comprimir: "
set /p tamano="Tama√±o m√≠nimo en MB (ej: 10): "

echo.
echo üì¶ Comprimiendo archivos mayores a %tamano% MB...
for /r "%directorio%" %%f in (*.*) do (
    set /a "tamano_archivo=%%~zf/1048576"
    if !tamano_archivo! gtr %tamano% (
        echo Comprimiendo: %%~nxf
        compact /c "%%f"
    )
)

echo ‚úÖ Compresi√≥n completada
echo.
pause
goto menu_principal

:limpieza_sistema
cls
echo.
echo üñ•Ô∏è LIMPIEZA DE SISTEMA AVANZADA
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo ‚ö†Ô∏è  Esta operaci√≥n realizar√° limpiezas avanzadas del sistema
echo.
set /p confirmar="¬øContinuar? (S/N): "
if /i not "%confirmar%"=="S" goto menu_principal

echo.
echo üîÑ Limpiando puntos de restauraci√≥n antiguos...
vssadmin delete shadows /for=C: /oldest /quiet

echo üóÇÔ∏è Limpiando archivo de hibernaci√≥n...
powercfg /hibernate off
del /f "C:\hiberfil.sys" 2>nul
powercfg /hibernate on

echo üìù Limpiando archivos de log antiguos...
forfiles /p "C:\Windows\Logs" /s /m *.log /d -60 /c "cmd /c del @path" 2>nul

echo ‚úÖ Limpieza de sistema completada
echo.
pause
goto menu_principal

:limpieza_aplicaciones
cls
echo.
echo üì± LIMPIEZA DE APLICACIONES
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo üóëÔ∏è Limpiando cach√© de aplicaciones...
del /q /f /s "%USERPROFILE%\AppData\Local\Microsoft\Windows\Explorer\*.*" 2>nul
del /q /f /s "%USERPROFILE%\AppData\Roaming\Microsoft\Windows\Recent\*.*" 2>nul

echo üéÆ Limpiando cach√© de juegos...
del /q /f /s "%USERPROFILE%\AppData\Local\Temp\*.*" 2>nul

echo üì± Limpiando cach√© de aplicaciones m√≥viles...
del /q /f /s "%USERPROFILE%\AppData\Local\Packages\*.*\AC\*.*" 2>nul

echo ‚úÖ Limpieza de aplicaciones completada
echo.
pause
goto menu_principal

:limpieza_red
cls
echo.
echo üåê LIMPIEZA DE RED Y CACH√â
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo üåê Limpiando cach√© DNS...
ipconfig /flushdns

echo üåê Limpiando cach√© de red...
del /q /f /s "%USERPROFILE%\AppData\Local\Microsoft\Windows\WebCache\*.*" 2>nul

echo üåê Limpiando archivos de red temporales...
del /q /f /s "%USERPROFILE%\AppData\Local\Microsoft\Windows\History\*.*" 2>nul

echo ‚úÖ Limpieza de red completada
echo.
pause
goto menu_principal

:generar_reporte
cls
echo.
echo üìã GENERAR REPORTE DETALLADO
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
set /p nombre_reporte="Nombre del reporte (sin extensi√≥n): "

echo Fecha: %date% %time% > "%nombre_reporte%.txt"
echo ================================ >> "%nombre_reporte%.txt"
echo REPORTE DE ESPACIO EN DISCO >> "%nombre_reporte%.txt"
echo ================================ >> "%nombre_reporte%.txt"
echo. >> "%nombre_reporte%.txt"

echo üìä ESPACIO EN UNIDADES: >> "%nombre_reporte%.txt"
wmic logicaldisk get size,freespace,caption >> "%nombre_reporte%.txt"
echo. >> "%nombre_reporte%.txt"

echo üìÅ TAMA√ëO DE DIRECTORIOS PRINCIPALES: >> "%nombre_reporte%.txt"
dir "C:\Users" /s | findstr "File(s)" >> "%nombre_reporte%.txt"
dir "C:\Program Files" /s | findstr "File(s)" >> "%nombre_reporte%.txt"
dir "C:\Windows" /s | findstr "File(s)" >> "%nombre_reporte%.txt"

echo ‚úÖ Reporte guardado como: %nombre_reporte%.txt
echo.
pause
goto menu_principal

:configuracion
cls
echo.
echo ‚öôÔ∏è CONFIGURACI√ìN PERSONALIZADA
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo [1] Configurar d√≠as para archivos antiguos
echo [2] Configurar directorios de limpieza
echo [3] Configurar tama√±o m√≠nimo para compresi√≥n
echo [4] Volver al men√∫ principal
echo.
set /p opcion_config="Selecciona una opci√≥n: "

if "%opcion_config%"=="1" goto config_dias
if "%opcion_config%"=="2" goto config_directorios
if "%opcion_config%"=="3" goto config_tamano
if "%opcion_config%"=="4" goto menu_principal
goto configuracion

:config_dias
echo.
set /p dias_config="D√≠as para considerar archivos como antiguos: "
echo D√≠as configurados: %dias_config%
pause
goto configuracion

:config_directorios
echo.
set /p dir_config="Directorio principal para limpieza: "
echo Directorio configurado: %dir_config%
pause
goto configuracion

:config_tamano
echo.
set /p tamano_config="Tama√±o m√≠nimo en MB para compresi√≥n: "
echo Tama√±o configurado: %tamano_config% MB
pause
goto configuracion

:salir
echo.
echo üëã ¬°Gracias por usar el Gestor Inteligente de Espacio en Disco!
echo.
exit /b 0
```

### **Script para Sistema de Monitoreo Continuo de Espacio**

```batch
@echo off
setlocal enabledelayedexpansion
title üìä MONITOR DE ESPACIO EN DISCO

:configuracion_inicial
cls
echo.
echo ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
echo ‚ïë              üìä MONITOR DE ESPACIO EN DISCO üìä              ‚ïë
echo ‚ïë                    Sistema de Monitoreo Continuo            ‚ïë
echo ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
echo.
set /p umbral="Umbral de alerta en GB (ej: 10): "
set /p intervalo="Intervalo de monitoreo en segundos (ej: 300): "
set /p log_file="Archivo de log (ej: monitor_disco.log): "

echo.
echo ‚öôÔ∏è Configuraci√≥n:
echo    Umbral: %umbral% GB
echo    Intervalo: %intervalo% segundos
echo    Log: %log_file%
echo.
pause

:monitoreo_continuo
cls
echo.
echo üìä MONITOREO CONTINUO ACTIVO
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo üîÑ Monitoreando cada %intervalo% segundos...
echo üìù Registrando en: %log_file%
echo.
echo Presiona Ctrl+C para detener
echo.

:loop_monitoreo
echo [%date% %time%] Verificando espacio en disco... >> "%log_file%"

for %%d in (C D E F G H I J K L M N O P Q R S T U V W X Y Z) do (
    if exist %%d:\ (
        for /f "tokens=3" %%f in ('dir %%d:\ /-c ^| findstr "bytes free"') do (
            set "espacio_libre=%%f"
            set /a "espacio_gb=!espacio_libre!/1073741824"
            
            if !espacio_gb! lss %umbral% (
                echo ‚ö†Ô∏è  ALERTA: Unidad %%d: solo tiene !espacio_gb! GB libres >> "%log_file%"
                echo ‚ö†Ô∏è  ALERTA: Unidad %%d: solo tiene !espacio_gb! GB libres
                
                echo üßπ Iniciando limpieza autom√°tica... >> "%log_file%"
                call :limpieza_automatica
            ) else (
                echo ‚úÖ Unidad %%d: !espacio_gb! GB libres >> "%log_file%"
            )
        )
    )
)

echo. >> "%log_file%"
timeout /t %intervalo% /nobreak >nul
goto loop_monitoreo

:limpieza_automatica
echo üìÅ Limpiando archivos temporales... >> "%log_file%"
del /q /f /s "%TEMP%\*.*" 2>nul
del /q /f /s "%TMP%\*.*" 2>nul
del /q /f /s "%USERPROFILE%\AppData\Local\Temp\*.*" 2>nul

echo üåê Limpiando cach√© del navegador... >> "%log_file%"
del /q /f /s "%USERPROFILE%\AppData\Local\Microsoft\Windows\INetCache\*.*" 2>nul

echo ‚úÖ Limpieza autom√°tica completada >> "%log_file%"
goto :eof
```

---

## üí° Consejos Importantes

### **Optimizaci√≥n**
- **Monitoreo Regular**: Establece un calendario de limpieza semanal para mantener el sistema optimizado
- **An√°lisis Previo**: Siempre analiza el espacio antes de realizar limpiezas masivas
- **Respaldo**: Crea puntos de restauraci√≥n antes de limpiezas profundas del sistema

### **Seguridad**
- **Verificaci√≥n**: Confirma que los archivos a eliminar no son cr√≠ticos para el sistema
- **Permisos**: Aseg√∫rate de tener permisos de administrador para limpiezas del sistema
- **Auditor√≠a**: Mant√©n logs de todas las operaciones de limpieza realizadas

### **Mejores Pr√°cticas**
- **Limpieza Gradual**: Realiza limpiezas en etapas para evitar problemas
- **Documentaci√≥n**: Mant√©n un registro de las limpiezas realizadas y su impacto
- **Automatizaci√≥n**: Configura tareas programadas para limpiezas rutinarias

---

## üåç Casos de Uso Reales

### **Administraci√≥n de Sistemas**
- **Mantenimiento Preventivo**: Limpieza programada en servidores para evitar colapsos por falta de espacio
- **Optimizaci√≥n de Rendimiento**: Eliminaci√≥n de archivos temporales que ralentizan el sistema
- **Gesti√≥n de Logs**: Rotaci√≥n y limpieza de archivos de log para mantener el rendimiento

### **Entornos Educativos**
- **Limpieza de Laboratorios**: Mantenimiento autom√°tico de equipos en aulas de inform√°tica
- **Gesti√≥n de Proyectos**: Limpieza de archivos temporales de proyectos estudiantiles
- **Optimizaci√≥n de Red**: Limpieza de cach√© y archivos temporales en redes educativas

### **Empresas**
- **Mantenimiento de Estaciones de Trabajo**: Limpieza automatizada en equipos corporativos
- **Gesti√≥n de Servidores**: Monitoreo y limpieza de servidores de archivos y aplicaciones
- **Cumplimiento**: Eliminaci√≥n de archivos temporales para cumplir con pol√≠ticas de seguridad

---

## üéØ Conclusi√≥n y Siguiente Paso

¬°Excelente trabajo! Has dominado las t√©cnicas avanzadas de liberaci√≥n de espacio en disco, transform√°ndote en un experto en optimizaci√≥n de recursos del sistema. La gesti√≥n inteligente del espacio en disco es una habilidad fundamental que te distinguir√° como administrador de sistemas.

En el pr√≥ximo cap√≠tulo, **"50. Optimizar y desfragmentar disco"**, aprender√°s t√©cnicas avanzadas de optimizaci√≥n y desfragmentaci√≥n que complementar√°n perfectamente tus conocimientos de limpieza. Descubrir√°s c√≥mo mantener tus discos funcionando al m√°ximo rendimiento y c√≥mo diagnosticar problemas de rendimiento relacionados con la fragmentaci√≥n.

**¬øEst√°s listo para llevar la optimizaci√≥n de discos al siguiente nivel?** üöÄ

---

## üìö Enlaces Relacionados

- [Cap√≠tulo 22: Compresi√≥n de archivos y directorios](22.%20Compresi√≥n%20de%20archivos%20y%20directorios.md)
- [Cap√≠tulo 30: Informaci√≥n del sistema](30.%20Informaci√≥n%20del%20sistema.md)
- [Cap√≠tulo 50: Optimizar y desfragmentar disco](50.%20Optimizar%20y%20desfragmentar%20disco.md)

---

## üìñ Fuentes y Referencias

- **Microsoft Docs**: [Disk Cleanup](https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/cleanmgr)
- **Windows Command Line**: [FORFILES Command](https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/forfiles)
- **PowerShell Documentation**: [Storage Management](https://docs.microsoft.com/en-us/powershell/module/storage/)
- **Windows Sysinternals**: [Disk Usage Analysis](https://docs.microsoft.com/en-us/sysinternals/)

---

**Autor**: Jerson Mart√≠nez  
**Sitio Web**: [jersonmartinez.com](https://jersonmartinez.com)  
**Blog DevOps**: [crashell.com](https://crashell.com)  
**Fecha**: 2024 